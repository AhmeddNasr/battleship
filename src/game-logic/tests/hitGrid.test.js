const hitGrid = require('../hitGrid').hitGrid;

test("miss hit on proximity tile works", () => {
    let grid = [
        [1, 1, 1, 1, 1, 2, 0, 0, 0, 0],
        [2, 2, 2, 2, 2, 2, 2, 2, 2, 0],
        [0, 0, 2, 1, 1, 1, 1, 1, 2, 0],
        [0, 0, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 0, 0, 0, 0, 0, 0, 0],
        [1, 1, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 1, 1, 1, 1, 2, 0],
        [0, 0, 0, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 2, 0, 0, 0, 0, 0],
        [2, 1, 1, 1, 2, 0, 0, 0, 0, 0],
    ];
    expect(hitGrid(grid, [0,1])).toEqual([
        [1, 1, 1, 1, 1, 2, 0, 0, 0, 0],
        [3, 2, 2, 2, 2, 2, 2, 2, 2, 0],
        [0, 0, 2, 1, 1, 1, 1, 1, 2, 0],
        [0, 0, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 0, 0, 0, 0, 0, 0, 0],
        [1, 1, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 1, 1, 1, 1, 2, 0],
        [0, 0, 0, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 2, 0, 0, 0, 0, 0],
        [2, 1, 1, 1, 2, 0, 0, 0, 0, 0],
    ]);
});

test("miss hit on empty tile works", () => {
    let grid = [
        [1, 1, 1, 1, 1, 2, 0, 0, 0, 0],
        [2, 2, 2, 2, 2, 2, 2, 2, 2, 0],
        [0, 0, 2, 1, 1, 1, 1, 1, 2, 0],
        [0, 0, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 0, 0, 0, 0, 0, 0, 0],
        [1, 1, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 1, 1, 1, 1, 2, 0],
        [0, 0, 0, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 2, 0, 0, 0, 0, 0],
        [2, 1, 1, 1, 2, 0, 0, 0, 0, 0],
    ];
    expect(hitGrid(grid, [0,2])).toEqual([
        [1, 1, 1, 1, 1, 2, 0, 0, 0, 0],
        [2, 2, 2, 2, 2, 2, 2, 2, 2, 0],
        [3, 0, 2, 1, 1, 1, 1, 1, 2, 0],
        [0, 0, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 0, 0, 0, 0, 0, 0, 0],
        [1, 1, 2, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 1, 1, 1, 1, 2, 0],
        [0, 0, 0, 2, 2, 2, 2, 2, 2, 0],
        [2, 2, 2, 2, 2, 0, 0, 0, 0, 0],
        [2, 1, 1, 1, 2, 0, 0, 0, 0, 0],
    ]);
});
